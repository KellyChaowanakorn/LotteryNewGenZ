import { create } from 'zustand';
import { persist } from 'zustand/middleware';

export type Language = 'th' | 'en';

interface I18nState {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const translations: Record<Language, Record<string, string>> = {
  th: {
    'app.name': 'QNQ Lottery',
    'app.tagline': 'ระบบแทงหวยออนไลน์ครบวงจร',
    'nav.home': 'หน้าหลัก',
    'nav.results': 'ผลหวย',
    'nav.affiliate': 'แนะนำเพื่อน',
    'nav.profile': 'โปรไฟล์',
    'nav.admin': 'จัดการระบบ',
    'nav.cart': 'ตะกร้า',
    'nav.login': 'เข้าสู่ระบบ',
    'nav.register': 'สมัครสมาชิก',
    'nav.logout': 'ออกจากระบบ',
    'home.selectLottery': 'เลือกประเภทหวย',
    'home.selectBetType': 'เลือกรูปแบบการแทง',
    'home.enterNumber': 'กรอกเลข',
    'home.enterAmount': 'จำนวนเงิน',
    'home.addToCart': 'เพิ่มในตะกร้า',
    'home.blockedNumbers': 'เลขอั้น',
    'home.blockedWarning': 'เลขนี้ถูกอั้น ไม่สามารถแทงได้',
    'home.payoutRate': 'อัตราจ่าย',
    'home.potentialWin': 'เงินที่จะได้รับ',
    'results.title': 'ผลหวยทุกประเภท',
    'results.latest': 'ผลล่าสุด',
    'results.viewExternal': 'ดูผลหวย',
    'results.liveApi': 'ข้อมูลสด',
    'results.externalLink': 'ลิงก์ภายนอก',
    'affiliate.title': 'ระบบแนะนำเพื่อน',
    'affiliate.yourCode': 'รหัสแนะนำของคุณ',
    'affiliate.copyLink': 'คัดลอกลิงก์',
    'affiliate.copied': 'คัดลอกแล้ว!',
    'affiliate.totalReferrals': 'เพื่อนที่สมัคร',
    'affiliate.totalEarnings': 'รายได้รวม',
    'affiliate.pendingEarnings': 'รอรับเงิน',
    'affiliate.commission': 'คอมมิชชั่น 20%',
    'affiliate.withdraw': 'ถอนเงิน',
    'affiliate.history': 'ประวัติรายได้',
    'profile.title': 'โปรไฟล์',
    'profile.balance': 'ยอดเงินคงเหลือ',
    'profile.deposit': 'ฝากเงิน',
    'profile.withdraw': 'ถอนเงิน',
    'profile.history': 'ประวัติการแทง',
    'profile.transactions': 'ประวัติการเงิน',
    'profile.settings': 'ตั้งค่า',
    'profile.numberVault': 'คลังเก็บเลข',
    'cart.title': 'ตะกร้าแทงหวย',
    'cart.empty': 'ตะกร้าว่าง',
    'cart.total': 'ยอดรวม',
    'cart.checkout': 'ยืนยันการแทง',
    'cart.clear': 'ล้างตะกร้า',
    'cart.remove': 'ลบ',
    'payment.title': 'ชำระเงิน',
    'payment.bankTransfer': 'โอนเงินผ่านธนาคาร',
    'payment.promptPay': 'พร้อมเพย์',
    'payment.scanQr': 'สแกน QR Code',
    'payment.uploadSlip': 'อัพโหลดสลิป',
    'payment.reference': 'หมายเลขอ้างอิง',
    'payment.confirm': 'ยืนยันการชำระเงิน',
    'admin.title': 'จัดการระบบ',
    'admin.blockedNumbers': 'จัดการเลขอั้น',
    'admin.addBlocked': 'เพิ่มเลขอั้น',
    'admin.removeBlocked': 'ลบเลขอั้น',
    'admin.payoutRates': 'ตั้งค่าอัตราจ่าย',
    'admin.login': 'เข้าสู่ระบบ Admin',
    'status.pending': 'รอยืนยัน',
    'status.confirmed': 'ยืนยันแล้ว',
    'status.won': 'ถูกรางวัล',
    'status.lost': 'ไม่ถูก',
    'status.approved': 'อนุมัติ',
    'status.rejected': 'ไม่อนุมัติ',
    'common.baht': 'บาท',
    'common.save': 'บันทึก',
    'common.cancel': 'ยกเลิก',
    'common.confirm': 'ยืนยัน',
    'common.delete': 'ลบ',
    'common.edit': 'แก้ไข',
    'common.search': 'ค้นหา',
    'common.filter': 'กรอง',
    'common.loading': 'กำลังโหลด...',
    'common.noData': 'ไม่มีข้อมูล',
    'common.error': 'เกิดข้อผิดพลาด',
    'common.success': 'สำเร็จ',
  },
  en: {
    'app.name': 'QNQ Lottery',
    'app.tagline': 'Complete Online Lottery System',
    'nav.home': 'Home',
    'nav.results': 'Results',
    'nav.affiliate': 'Affiliate',
    'nav.profile': 'Profile',
    'nav.admin': 'Admin',
    'nav.cart': 'Cart',
    'nav.login': 'Login',
    'nav.register': 'Register',
    'nav.logout': 'Logout',
    'home.selectLottery': 'Select Lottery Type',
    'home.selectBetType': 'Select Bet Type',
    'home.enterNumber': 'Enter Number',
    'home.enterAmount': 'Amount',
    'home.addToCart': 'Add to Cart',
    'home.blockedNumbers': 'Blocked Numbers',
    'home.blockedWarning': 'This number is blocked',
    'home.payoutRate': 'Payout Rate',
    'home.potentialWin': 'Potential Win',
    'results.title': 'All Lottery Results',
    'results.latest': 'Latest Results',
    'results.viewExternal': 'View Results',
    'results.liveApi': 'Live Data',
    'results.externalLink': 'External Link',
    'affiliate.title': 'Affiliate Program',
    'affiliate.yourCode': 'Your Referral Code',
    'affiliate.copyLink': 'Copy Link',
    'affiliate.copied': 'Copied!',
    'affiliate.totalReferrals': 'Total Referrals',
    'affiliate.totalEarnings': 'Total Earnings',
    'affiliate.pendingEarnings': 'Pending Earnings',
    'affiliate.commission': '20% Commission',
    'affiliate.withdraw': 'Withdraw',
    'affiliate.history': 'Earnings History',
    'profile.title': 'Profile',
    'profile.balance': 'Balance',
    'profile.deposit': 'Deposit',
    'profile.withdraw': 'Withdraw',
    'profile.history': 'Bet History',
    'profile.transactions': 'Transactions',
    'profile.settings': 'Settings',
    'profile.numberVault': 'Number Vault',
    'cart.title': 'Betting Cart',
    'cart.empty': 'Cart is empty',
    'cart.total': 'Total',
    'cart.checkout': 'Checkout',
    'cart.clear': 'Clear Cart',
    'cart.remove': 'Remove',
    'payment.title': 'Payment',
    'payment.bankTransfer': 'Bank Transfer',
    'payment.promptPay': 'PromptPay',
    'payment.scanQr': 'Scan QR Code',
    'payment.uploadSlip': 'Upload Slip',
    'payment.reference': 'Reference Number',
    'payment.confirm': 'Confirm Payment',
    'admin.title': 'Admin Panel',
    'admin.blockedNumbers': 'Blocked Numbers',
    'admin.addBlocked': 'Add Blocked Number',
    'admin.removeBlocked': 'Remove',
    'admin.payoutRates': 'Payout Rates',
    'admin.login': 'Admin Login',
    'status.pending': 'Pending',
    'status.confirmed': 'Confirmed',
    'status.won': 'Won',
    'status.lost': 'Lost',
    'status.approved': 'Approved',
    'status.rejected': 'Rejected',
    'common.baht': 'THB',
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.confirm': 'Confirm',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.search': 'Search',
    'common.filter': 'Filter',
    'common.loading': 'Loading...',
    'common.noData': 'No data',
    'common.error': 'Error',
    'common.success': 'Success',
  }
};

export const useI18n = create<I18nState>()(
  persist(
    (set, get) => ({
      language: 'th',
      setLanguage: (lang) => set({ language: lang }),
      t: (key) => {
        const { language } = get();
        return translations[language][key] || key;
      }
    }),
    {
      name: 'qnq-language'
    }
  )
);
